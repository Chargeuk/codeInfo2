{
  "Description": "Improve an existing plan by getting an agent to expand on the details and implementation ideas.",
  "items": [
    {
      "type": "message",
      "role": "user",
      "content": ["Is there any acceptance in this upcoming story plan that is not defined in a way that a junior developer could understand what the output should be? If so please update all relevent planning sections to get them to where we need to be. Commit after making any changes."]
    },
    {
      "type": "message",
      "role": "user",
      "content": ["Do you feel this story is well scoped? How could it be improved? are there unknowns that need to be researched? If so, please research them using the codeInfo, deepwiki & context7 mcp tools, as well as cross referencing with internet searches to be 100% confident of the answer. Remember to give the repository path to the code_info tool as part of your question so it uses the correct repository. Then update the plan with your findings. Commit after making any changes."]
    },
    {
      "type": "message",
      "role": "user",
      "content": ["Without actually tasking up, can you create a rough plan on what will need to be changed in order to implement this story. Please double check your thoughts using the code_info, deepwiki and context7 mcp tools. Place the information into a section named Implementation Ideas within the plan. Remember to give the repository path to the code_info tool as part of your question so it uses the correct repository. Commit after making any changes."]
    },
    {
      "type": "message",
      "role": "user",
      "content": ["Does the story require any new message contracts or storage shapes, or changes to existing ones? If so, can these be defined within their own section of the story up front based on what we know is needed? Please use the code_info, deepwiki & context7 mcp tools to check existing contracts and storage shapes to ensure we are not duplicating anything that already exists. Remember to give the repository path to the code_info tool as part of your question so it uses the correct repository. Commit after making any changes."]
    },
    {
      "type": "message",
      "role": "user",
      "content": ["Are there any sections in this story that are not defined in a way that a junior developer could understand what the output should be, and what the story needs to achieve? If so please update all relevent planning sections to get them to where we need to be. Commit after making any changes."]
    },
    {
      "type": "message",
      "role": "user",
      "content": ["Is everything in the planning consistent, or are there some contradictions, especially across the various sections? If so, please resolve and remove the contradictions based on what we know we actually want. Commit after making any changes."]
    },
    {
      "type": "message",
      "role": "user",
      "content": ["Without actually tasking up, do you feel this story is detailed enough to be tasked up by someone? If not, please make the required changes to the plan. Commit after making any changes."]
    },
    {
      "type": "message",
      "role": "user",
      "content": ["Are there any edge cases or failure modes that need to be considered for this story? If so, please add them to the plan in their own section named Edge Cases and Failure Modes. Commit after making any changes."]
    }
  ]
}

